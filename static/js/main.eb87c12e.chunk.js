(this["webpackJsonppaf-front"]=this["webpackJsonppaf-front"]||[]).push([[0],{193:function(e,t){},195:function(e,t){},209:function(e,t){},211:function(e,t){},239:function(e,t){},241:function(e,t){},242:function(e,t){},247:function(e,t){},249:function(e,t){},268:function(e,t){},280:function(e,t){},283:function(e,t){},317:function(e,t,n){},319:function(e,t,n){},320:function(e,t,n){},332:function(e,t,n){},333:function(e,t,n){},348:function(e,t,n){},349:function(e,t,n){},350:function(e,t,n){},351:function(e,t,n){},352:function(e,t,n){},353:function(e,t,n){},354:function(e,t,n){},356:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(40),s=n.n(a),u=n(3),i=n.n(u),o=n(7),l=n(10),f=c.a.createContext(),p=n(93),j=n.n(p),d=n(178),b=n(179),h=n(180),O=n.n(h),m="https://programafriend.herokuapp.com",x=function(){function e(){Object(d.a)(this,e)}return Object(b.a)(e,null,[{key:"request",value:function(){var t=Object(o.a)(i.a.mark((function t(n){var r,c,a,s,u,o,l=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},c=l.length>2&&void 0!==l[2]?l[2]:"get",a="".concat(m,"/").concat(n),s={authorization:"Bearer ".concat(e.token)},u="get"===c?r:{},t.prev=5,t.next=8,O()({url:a,method:c,data:r,params:u,headers:s});case 8:return t.abrupt("return",t.sent.data);case 11:throw t.prev=11,t.t0=t.catch(5),o=t.t0.response.data.error.message,Array.isArray(o)?o:[o];case 15:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e){return t.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/login",t,"post");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signup",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/register",t,"post");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserInfo",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addFriend",value:function(){var t=Object(o.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("friends/".concat(e.username),n,"post");case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getAllFriends",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("friends/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFriendInfo",value:function(){var t=Object(o.a)(i.a.mark((function t(n,r){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("friends/".concat(e.username,"/").concat(n));case 2:return c=t.sent,t.abrupt("return",c);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"editFriend",value:function(){var t=Object(o.a)(i.a.mark((function t(n,r){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("friends/".concat(e.username,"/").concat(n),r,"patch");case 2:return c=t.sent,t.abrupt("return",c);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"deleteFriend",value:function(){var t=Object(o.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("friends/".concat(e.username,"/").concat(n),undefined,"delete");case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"addFriendStatement",value:function(){var t=Object(o.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("statements/".concat(e.username),n,"post");case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getStatementInfo",value:function(){var t=Object(o.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("statements/".concat(e.username,"/").concat(n));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"editStatement",value:function(){var t=Object(o.a)(i.a.mark((function t(n,r){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("statements/".concat(e.username,"/").concat(n),r,"patch");case 2:return c=t.sent,t.abrupt("return",c);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"deleteStatement",value:function(){var t=Object(o.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("statements/".concat(e.username,"/").concat(n),undefined,"delete");case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"addStatementResponse",value:function(){var t=Object(o.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("responses/".concat(e.username),n,"post");case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"editResponse",value:function(){var t=Object(o.a)(i.a.mark((function t(n,r){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("responses/".concat(e.username,"/").concat(n),r,"patch");case 2:return c=t.sent,t.abrupt("return",c);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"deleteResponse",value:function(){var t=Object(o.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("responses/".concat(e.username,"/").concat(n),undefined,"delete");case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"sendStatement",value:function(){var t=Object(o.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("chat/".concat(e.username),n,"post");case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),e}(),v=n(13),k=(n(89),n(317),n(0));var g=function(){return Object(k.jsxs)("div",{className:"hero-container",children:[Object(k.jsx)("h1",{children:"PROGRAM A FRIEND"}),Object(k.jsx)("p",{children:"To learn with, cope with, laugh with."})]})};var w=function(){return Object(k.jsx)(g,{})},y=(n(319),n(41)),N=n(44),F=n(359);n(320);var S=function(e){var t=e.title,n=e.inputs,c=e.func,a=e.after,s=e.close,u=void 0===s?null:s,f=e.id,p=void 0===f?null:f,j=e.pres,d=void 0===j?null:j,b=Object(v.g)(),h={};d?n.map((function(e,t){return h[e]=d[t]})):n.map((function(e){return h[e]=""}));var O=Object(r.useState)(h),m=Object(l.a)(O,2),x=m[0],g=m[1],w=Object(r.useState)([]),S=Object(l.a)(w,2),C=S[0],I=S[1],q=function(e){var t=e.target,n=t.name,r=t.value;g((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(y.a)({},n,r))}))},A=u?Object(k.jsx)("i",{className:"fas fa-times close",onClick:u,"data-testid":"close"}):null,R=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!p){e.next=7;break}return e.next=4,c(p,x);case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,c(x);case 9:n=e.sent;case 10:n.success?(g(h),A&&u(),a&&b.push(a)):I(n.errors);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)("div",{className:"form-container",children:Object(k.jsxs)("div",{className:"form-inner",children:[A,Object(k.jsx)("h3",{className:"form-title",children:t}),Object(k.jsxs)("form",{className:"form-input-container",children:[n.map((function(e,t){return Object(k.jsxs)("div",{className:"form-input-group",children:[Object(k.jsx)("label",{htmlFor:e,children:e}),Object(k.jsx)("input",{type:"text",name:e,className:"form-input",value:x[e],onChange:q,placeholder:e,required:!0,"data-testid":e})]},t)})),C.length?C.map((function(e,t){return Object(k.jsxs)(F.a,{color:"danger",children:[" ",e]},t)})):null,Object(k.jsx)("button",{"data-testid":"button",type:"submit",className:"form-button",onClick:R,children:t})]})]})})};var C=function(e){var t=e.loginFunc;return Object(k.jsx)("div",{className:"login-container",children:Object(k.jsx)(S,{title:"Login",inputs:["username","password"],func:t,close:null})})};n(332);var I=function(e){var t=e.signupFunc;return Object(k.jsx)("div",{className:"signup-container",children:Object(k.jsx)(S,{title:"Sign Up",inputs:["username","password","email","firstName","lastName"],func:t,after:"/friends"})})},q=n(19),A=n.p+"static/media/brain.fca87e63.jpg",R=n(16),D=n(357),E=n(360),U=n(361),P=n(358);n(333);var L=function(e){var t=e.name,n=e.description,c=e.id,a=e.deleteFunc,s=e.editFunc,u=Object(r.useState)(!1),i=Object(l.a)(u,2),o=i[0],f=i[1],p=Object(r.useState)(!1),j=Object(l.a)(p,2),d=j[0],b=j[1],h=function(){b(!0)};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("li",{className:"friend",children:[Object(k.jsx)("img",{src:A,className:"friend-avatar",alt:"avatar"}),Object(k.jsx)("h5",{children:t}),Object(k.jsx)("p",{className:"friend-description",children:n}),Object(k.jsxs)(D.a,{isOpen:o,toggle:function(){return f((function(e){return!e}))},className:"drop",children:[Object(k.jsx)(E.a,{caret:!0,children:"Actions"}),Object(k.jsxs)(U.a,{children:[Object(k.jsx)(R.b,{style:{textDecoration:"none"},to:"/friend/".concat(c),children:Object(k.jsx)(P.a,{onClick:h,children:"Program Friend"})}),Object(k.jsx)(R.b,{to:"/chat/".concat(c),style:{textDecoration:"none"},children:Object(k.jsx)(P.a,{children:"Chat"})}),Object(k.jsx)(P.a,{onClick:h,children:"Edit Friend"}),Object(k.jsx)(P.a,{id:"delete",onClick:a,children:"Delete Friend"})]})]})]}),d?Object(k.jsx)(S,{title:"Edit Friend",inputs:["name","description"],pres:[t,n],func:function(e,t){return s(e,t)},after:null,close:function(){b(!1)},id:c}):null]})},_=n(182);n(348);var B=function(e){var t=e.username,n=Object(r.useState)(!1),c=Object(l.a)(n,2),a=c[0],s=c[1],u=Object(r.useState)([]),f=Object(l.a)(u,2),p=f[0],j=f[1];Object(r.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getAllFriends(t);case 2:n=e.sent,j(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);var d=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.addFriend(t);case 2:return n=e.sent,j((function(e){return e?[].concat(Object(q.a)(e),[n]):[n]})),s(!1),e.abrupt("return",{success:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function b(e,t){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(i.a.mark((function e(t,n){var r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.editFriend(t,n);case 2:return r=e.sent,c=p.map((function(e){return e.id})).indexOf(t),j((function(e){return e[c]=r,Object(q.a)(e)})),e.abrupt("return",{success:!0});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.deleteFriend(t);case 2:n=p.map((function(e){return e.id})).indexOf(t),j((function(e){return e.splice(n,1),Object(q.a)(e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=p?p.map((function(e,t){return Object(k.jsx)(L,{name:e.name,description:e.description,id:e.id,editFunc:b,deleteFunc:function(){return function(e){return O.apply(this,arguments)}(e.id)}},t)})):null;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("ul",{className:"friends-list",children:[m,Object(k.jsx)("div",{className:"container-button",children:Object(k.jsx)(_.a,{onClick:function(){s(!0)},children:"ADD FRIEND"})})]}),a?Object(k.jsx)(S,{title:"New Friend",inputs:["name","description"],func:d,after:"/friends",close:function(){s(!1)}}):null]})};n(349),n(350);var J=function(e){var t=e.s,n=e.deleteFunc,c=e.editFunc,a=Object(r.useState)(!1),s=Object(l.a)(a,2),u=s[0],i=s[1],o=Object(r.useState)(!1),f=Object(l.a)(o,2),p=f[0],j=f[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("ul",{className:"response",children:[t.response,Object(k.jsxs)(D.a,{isOpen:u,toggle:function(){return i((function(e){return!e}))},children:[Object(k.jsx)(E.a,{caret:!0,children:"Actions"}),Object(k.jsxs)(U.a,{children:[Object(k.jsx)(P.a,{onClick:function(){j(!0)},children:"Edit Response"}),Object(k.jsx)(P.a,{onClick:function(){return n(t.id)},children:"Delete Response"})]})]})]},t.id),p?Object(k.jsx)(S,{title:"Edit Statement",inputs:["response"],pres:t.response,func:c,after:null,close:function(){j(!1)},id:t.id}):null]})};var M=function(){var e=Object(v.h)().id,t=Object(r.useState)(!1),n=Object(l.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)([]),u=Object(l.a)(s,2),f=u[0],p=u[1],j=Object(r.useState)(),d=Object(l.a)(j,2),b=d[0],h=d[1];Object(r.useEffect)((function(){function t(){return(t=Object(o.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getStatementInfo(e);case 2:n=t.sent,p(n.responses),delete n.responses,h(n.statement);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var O=function(){var t=Object(o.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.statement_id=parseInt(e),t.next=3,x.addStatementResponse(n);case 3:return r=t.sent,p((function(e){return e?[].concat(Object(q.a)(e),[r]):[r]})),a(!1),t.abrupt("return",{success:!0});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function m(e,t){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.editResponse(t,n);case 2:return r=f.map((function(e){return e.id})).indexOf(t),p((function(e){return e[r].response=n.response,Object(q.a)(e)})),e.abrupt("return",{success:!0});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.deleteResponse(t);case 2:n=f.map((function(e){return e.id})).indexOf(t),p((function(e){return e.splice(n,1),Object(q.a)(e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("ul",{className:"friend-convo-list",children:[Object(k.jsxs)("li",{className:"friend-i-say title",children:["When I say ",b||null]}),Object(k.jsx)("li",{className:"friend-i-say title",children:"My friend can say..."}),f?f.map((function(e,t){return Object(k.jsx)(J,{s:e,deleteFunc:w,editFunc:m},t)})):null,Object(k.jsx)("li",{className:"container-button",children:Object(k.jsx)(_.a,{onClick:function(){a(!0)},children:"Add Response"})})]}),c?Object(k.jsx)(S,{title:"New Response",inputs:["response"],func:O,after:"/responses/".concat(e),close:function(){a(!1)}}):null]})};n(351);var T=function(){var e,t=Object(r.useState)({statement:""}),n=Object(l.a)(t,2),c=n[0],a=n[1],s=Object(v.h)().id,u=Object(r.useState)([{statement:"lets chat"}]),f=Object(l.a)(u,2),p=f[0],j=f[1],d=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j((function(e){return[].concat(Object(q.a)(e),[c])})),c.friend_id=s,e.next=5,x.sendStatement(c);case 5:return n=e.sent,j((function(e){return[].concat(Object(q.a)(e),[{statement:n}])})),a({statement:""}),e.abrupt("return",{success:!0});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)("div",{className:"chat-container",children:Object(k.jsxs)("div",{className:"chat-room-container",children:[Object(k.jsx)("ul",{className:"chat-spot",children:p.map((function(t,n){switch(e){case void 0:e="left";break;case"left":e="right";break;case"right":e="left";break;default:e="left"}return Object(k.jsxs)("li",{className:"chat-text",style:{textAlign:e},children:["left"===e?Object(k.jsx)("img",{alt:"avatar",className:"chat-avatar",src:A}):null,t.statement]},n)}))}),Object(k.jsxs)("form",{className:"chat-form",autoComplete:"off",children:[Object(k.jsx)("input",{type:"text",name:"statement",className:"chat-input",value:c.statement,onChange:function(e){var t=e.target,n=t.name,r=t.value;a((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(y.a)({},n,r))}))},autoComplete:"off"}),Object(k.jsx)("button",{className:"chat-button",onClick:d,children:"Send"})]})]})})};n(352);var W=function(e){var t=e.say,n=e.id,c=e.deleteFunc,a=e.editFunc,s=(e.fId,Object(r.useState)(!1)),u=Object(l.a)(s,2),i=u[0],o=u[1],f=Object(r.useState)(!1),p=Object(l.a)(f,2),j=p[0],d=p[1],b=function(){o(!0)};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("li",{className:"friend-i-say",children:[Object(k.jsx)("h3",{children:t}),Object(k.jsxs)(D.a,{isOpen:j,toggle:function(){return d((function(e){return!e}))},className:"drop",children:[Object(k.jsx)(E.a,{caret:!0,children:"Actions"}),Object(k.jsxs)(U.a,{children:[Object(k.jsx)(R.b,{to:"/responses/".concat(n),style:{textDecoration:"none"},children:Object(k.jsx)(P.a,{onClick:b,style:{textDecoration:"none"},children:"Program Responses"})}),Object(k.jsx)(P.a,{onClick:b,children:"Edit Statement"}),Object(k.jsx)(P.a,{id:"delete",onClick:c,children:"Delete Statement"})]})]})]}),i?Object(k.jsx)("div",{className:"floating-form",children:Object(k.jsx)(S,{title:"Edit Statement",inputs:["statement"],pres:[t],func:function(e,t){return a(e,t)},after:null,close:function(){o(!1)},id:n})}):null]})};n(353);var z=function(){var e=Object(v.h)().id,t=Object(r.useState)(!1),n=Object(l.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(),u=Object(l.a)(s,2),f=u[0],p=u[1];Object(r.useEffect)((function(){function t(){return(t=Object(o.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getFriendInfo(e);case 2:n=t.sent,p(n.statements);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var j=function(){var t=Object(o.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.friend_id=parseInt(e),t.next=3,x.addFriendStatement(n);case 3:return r=t.sent,p((function(e){return[].concat(Object(q.a)(e),[r])})),a(!1),t.abrupt("return",{success:!0});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function d(e,t){return b.apply(this,arguments)}function b(){return(b=Object(o.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.editStatement(t,n);case 2:return r=f.map((function(e){return e.id})).indexOf(t),p((function(e){return e[r].statement=n.statement,Object(q.a)(e)})),e.abrupt("return",{success:!0});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.deleteStatement(t);case 2:n=f.map((function(e){return e.id})).indexOf(t),p((function(e){return e.splice(n,1),Object(q.a)(e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("ul",{className:"friend-convo-list",children:[Object(k.jsx)("li",{className:"friend-i-say title",children:"When I say..."}),f?f.map((function(t,n){return Object(k.jsx)(W,{say:t.statement,id:t.id,editFunc:d,deleteFunc:function(){return function(e){return h.apply(this,arguments)}(t.id)},fId:e},n)})):null,Object(k.jsx)("li",{className:"container-button",children:Object(k.jsx)(_.a,{onClick:function(){a(!0)},children:"Add Statement"})})]}),c?Object(k.jsx)(S,{title:"New Statement",inputs:["statement"],func:j,after:null,close:function(){a(!1)}}):null]})};var G=function(e){var t=e.loginFunc,n=e.signupFunc,c=Object(r.useContext)(f).currentUser;return Object(k.jsxs)(v.d,{children:[Object(k.jsx)(v.b,{path:"/paf-front-end",exact:!0,children:c?Object(k.jsx)(v.a,{to:"/friends"}):Object(k.jsx)(w,{})}),Object(k.jsx)(v.b,{path:"/friend/:id",exact:!0,children:Object(k.jsx)(z,{})}),Object(k.jsx)(v.b,{path:"/responses/:id",exact:!0,children:Object(k.jsx)(M,{})}),Object(k.jsx)(v.b,{path:"/chat/:id",exact:!0,children:Object(k.jsx)(T,{})}),Object(k.jsx)(v.b,{path:"/friends",exact:!0,children:c?Object(k.jsx)(B,{username:c.username}):Object(k.jsx)(v.a,{to:"/"})}),Object(k.jsx)(v.b,{path:"/login",exact:!0,children:c?Object(k.jsx)(v.a,{to:"/"}):Object(k.jsx)(C,{loginFunc:function(e){return t(e)}})}),Object(k.jsx)(v.b,{path:"/sign-up",exact:!0,children:c?Object(k.jsx)(v.a,{to:"/friends"}):Object(k.jsx)(I,{signupFunc:function(e){return n(e)}})})]})};n(354);var H=function(e){var t=e.logoutFunc,n=e.loginFunc,c=Object(r.useContext)(f).currentUser,a=Object(r.useState)(!1),s=Object(l.a)(a,2),u=s[0],i=s[1],o=function(){return i(!u)},p=function(){return i(!1)},j=function(){i(!1),n({username:"guest",password:"guest55"})};return c?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("nav",{className:"navbar",children:Object(k.jsxs)("div",{className:"navbar-container",children:[Object(k.jsx)(R.c,{to:"/friends",className:"navbar-logo",onClick:p,children:"<PAF/>"}),Object(k.jsx)("div",{className:"menu-icon",onClick:o,children:Object(k.jsx)("i",{className:u?"fas fa-times":"fas fa-bars"})}),Object(k.jsxs)("ul",{className:u?"nav-menu active":"nav-menu",children:[Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(R.c,{to:"/friends",className:"nav-links",onClick:p,children:"Friends"})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(R.c,{to:"/sign-up",className:"nav-links",onClick:t,children:"Logout"})})]})]})})}):Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("nav",{className:"navbar",children:Object(k.jsxs)("div",{className:"navbar-container",children:[Object(k.jsx)(R.b,{to:"/paf-front-end",className:"navbar-logo",onClick:p,children:"<PAF/>"}),Object(k.jsx)("div",{className:"menu-icon",onClick:o,children:Object(k.jsx)("i",{className:u?"fas fa-times":"fas fa-bars"})}),Object(k.jsxs)("ul",{className:u?"nav-menu active":"nav-menu",children:[Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(R.b,{className:"nav-links",onClick:j,children:"Try as guest"})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(R.b,{to:"/login",className:"nav-links",onClick:p,children:"Login"})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(R.b,{to:"/sign-up",className:"nav-links",onClick:p,children:"Sign Up"})})]})]})})})};var K=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(null),s=Object(l.a)(a,2),u=s[0],p=s[1];if(!n&&localStorage.getItem("token")){c(localStorage.getItem("token")),x.token=localStorage.getItem("token");var d=j.a.decode(x.token).username;x.username=d}var b=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.login(t);case 3:return n=e.sent,x.token=n.token,c(n.token),localStorage.setItem("token",n.token),window.location.reload(),e.abrupt("return",{success:!0});case 11:return e.prev=11,e.t0=e.catch(0),console.error("login failed"),e.abrupt("return",{success:!1,errors:e.t0});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.signup(t);case 3:return n=e.sent,c(n.token),localStorage.setItem("token",n.token),e.abrupt("return",{success:!0});case 9:return e.prev=9,e.t0=e.catch(0),console.error("signup failed"),e.abrupt("return",{success:!1,errors:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(null),p(null),localStorage.removeItem("token");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var t,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.a.decode(n),r=t.username,e.prev=1,e.next=4,x.getUserInfo(r);case 4:c=e.sent,p(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}n&&function(){e.apply(this,arguments)}()}),[n]),Object(k.jsxs)(f.Provider,{value:{currentUser:u,setCurrentUser:p},children:[Object(k.jsx)(H,{logoutFunc:function(e){return O(e)},loginFunc:function(e){return b(e)}}),Object(k.jsx)("div",{className:"main",children:Object(k.jsx)(G,{loginFunc:function(e){return b(e)},signupFunc:function(e){return h(e)}})})]})};n(355);s.a.render(Object(k.jsx)(R.a,{children:Object(k.jsx)(K,{})}),document.getElementById("root"))},89:function(e,t,n){}},[[356,1,2]]]);
//# sourceMappingURL=main.eb87c12e.chunk.js.map