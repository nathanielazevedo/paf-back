(this["webpackJsonppaf-front"]=this["webpackJsonppaf-front"]||[]).push([[0],{162:function(e,t,n){},178:function(e,t){},180:function(e,t){},194:function(e,t){},196:function(e,t){},224:function(e,t){},226:function(e,t){},227:function(e,t){},232:function(e,t){},234:function(e,t){},253:function(e,t){},265:function(e,t){},268:function(e,t){},302:function(e,t,n){},305:function(e,t,n){},306:function(e,t,n){},307:function(e,t,n){},312:function(e,t,n){},313:function(e,t,n){},314:function(e,t,n){},315:function(e,t,n){},316:function(e,t,n){},317:function(e,t,n){},318:function(e,t,n){},319:function(e,t,n){},320:function(e,t,n){},321:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n.n(a),r=n(164),s=n.n(r),i=n(9),u=n.n(i),o=n(13),l=n(11),d=c.a.createContext(),j=n(70),f=n.n(j),p=n(0),b=n(2),m=n(165),h=n.n(m),O="https://programafriend.herokuapp.com",v=function(){function e(){Object(p.a)(this,e)}return Object(b.a)(e,null,[{key:"request",value:function(){var t=Object(o.a)(u.a.mark((function t(n){var a,c,r,s,i,o,l=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:{},c=l.length>2&&void 0!==l[2]?l[2]:"get",r="".concat(O,"/").concat(n),s={authorization:"Bearer ".concat(e.token)},i="get"===c?a:{},t.prev=5,t.next=8,h()({url:r,method:c,data:a,params:i,headers:s});case 8:return t.abrupt("return",t.sent.data);case 11:throw t.prev=11,t.t0=t.catch(5),o=t.t0.response.data.error.message,Array.isArray(o)?o:[o];case 15:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e){return t.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/login",t,"post");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signup",value:function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/register",t,"post");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserInfo",value:function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUserInfo",value:function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(this.username),t,"patch");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addFriend",value:function(){var t=Object(o.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("friends/".concat(e.username),n,"post");case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getAllFriends",value:function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("friends/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFriendInfo",value:function(){var t=Object(o.a)(u.a.mark((function t(n,a){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("friends/".concat(e.username,"/").concat(n));case 2:return c=t.sent,t.abrupt("return",c);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"editFriend",value:function(){var t=Object(o.a)(u.a.mark((function t(n,a){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("friends/".concat(e.username,"/").concat(n),a,"patch");case 2:return c=t.sent,t.abrupt("return",c);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"deleteFriend",value:function(){var t=Object(o.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("friends/".concat(e.username,"/").concat(n),undefined,"delete");case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"addFriendStatement",value:function(){var t=Object(o.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("statements/".concat(e.username),n,"post");case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getStatementInfo",value:function(){var t=Object(o.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("statements/".concat(e.username,"/").concat(n));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"editStatement",value:function(){var t=Object(o.a)(u.a.mark((function t(n,a){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("statements/".concat(e.username,"/").concat(n),a,"patch");case 2:return c=t.sent,t.abrupt("return",c);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"deleteStatement",value:function(){var t=Object(o.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("statements/".concat(e.username,"/").concat(n),undefined,"delete");case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"addStatementResponse",value:function(){var t=Object(o.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("responses/".concat(e.username),n,"post");case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"editResponse",value:function(){var t=Object(o.a)(u.a.mark((function t(n,a){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("responses/".concat(e.username,"/").concat(n),a,"patch");case 2:return c=t.sent,t.abrupt("return",c);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"deleteResponse",value:function(){var t=Object(o.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("responses/".concat(e.username,"/").concat(n),undefined,"delete");case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"sendStatement",value:function(){var t=Object(o.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("chat/".concat(e.username),n,"post");case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),e}(),x=n(18),g=(n(302),n(162),n(29)),k=n(166),N=n(324),w=n(1);function y(){var e=Object(g.c)(k.a,"/robot/scene.gltf");return Object(g.b)((function(){e.scene.rotation.y+=.009})),Object(w.jsx)("primitive",{object:e.scene,scale:[20,20,20],position:[0,2,0]})}var S=function(){return Object(w.jsx)("div",{className:"home-container",children:Object(w.jsxs)(g.a,{className:"robot",camera:{position:[5,0,0]},children:[Object(w.jsx)(N.a,{enablePan:!0,enableZoom:!1,enableRotate:!0}),Object(w.jsx)(y,{}),Object(w.jsx)("ambientLight",{}),Object(w.jsx)("pointLight",{position:[10,10,10],intensity:.9})]})})},C=n(14),F=n(10);n(305);var R=function(e){var t=e.loginFunc,n=Object(a.useState)({username:"",password:""}),c=Object(l.a)(n,2),r=c[0],s=c[1];function i(e){var t=e.target,n=t.name,a=t.value;s((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(C.a)({},n,a))}))}return Object(w.jsx)("div",{className:"login-container",children:Object(w.jsxs)("form",{className:"login-form",children:[Object(w.jsx)("input",{className:"login-input",value:r.username,name:"username",onChange:function(e){return i(e)},placeholder:"username"}),Object(w.jsx)("input",{className:"login-input",value:r.password,name:"password",onChange:function(e){return i(e)},placeholder:"password"}),Object(w.jsx)("button",{onClick:function(){return t(r)},className:"login-submit",children:"Login"})]})})};n(306);var I=function(e){var t=e.signupFunc,n=Object(a.useState)({username:"",password:"",email:"",firstName:"",lastName:""}),c=Object(l.a)(n,2),r=c[0],s=c[1];function i(e){var t=e.target,n=t.name,a=t.value;s((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(C.a)({},n,a))}))}return Object(w.jsx)("div",{className:"signup-container",children:Object(w.jsxs)("form",{className:"login-form",children:[Object(w.jsx)("input",{className:"login-input",value:r.username,name:"username",onChange:function(e){return i(e)},placeholder:"username"}),Object(w.jsx)("input",{className:"login-input",value:r.password,name:"password",onChange:function(e){return i(e)},placeholder:"password"}),Object(w.jsx)("input",{className:"login-input",value:r.firstName,name:"firstName",onChange:function(e){return i(e)},placeholder:"first name"}),Object(w.jsx)("input",{className:"login-input",value:r.lastName,name:"lastName",onChange:function(e){return i(e)},placeholder:"last name"}),Object(w.jsx)("input",{className:"login-input",value:r.email,name:"email",onChange:function(e){return i(e)},placeholder:"email"}),Object(w.jsx)("button",{onClick:function(){return t(r)},className:"login-submit",children:"Sign Up"})]})})},q=n(17),U=n(21);n(307);var E=function(e){var t=e.name,n=e.description,c=e.id,r=e.addFriendFunc,s=e.add,i=void 0!==s&&s,u=Object(a.useContext)(d).currentUser,o={name:t,description:n},j=Object(a.useState)(o),f=Object(l.a)(j,2),p=f[0],b=f[1],m=function(e){var t=e.target,n=t.name,a=t.value;b((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(C.a)({},n,a))}))};return i?Object(w.jsxs)("div",{className:"friend add-friend",children:[Object(w.jsxs)("div",{className:"add-friend-info",children:[Object(w.jsx)("input",{className:"friend-name add-friend-input",name:"name",value:p.name,onChange:function(e){return m(e)}}),Object(w.jsx)("input",{className:"friend-description-main add-friend-input accent",name:"description",value:p.description,onChange:function(e){return m(e)}})]}),Object(w.jsx)("span",{className:"submit-friend",onClick:function(){return r(p)},children:"Save"})]}):Object(w.jsxs)(U.b,{className:"friend",to:"/friend/".concat(c),children:[Object(w.jsx)("h5",{className:"friend-name",children:t}),Object(w.jsx)("p",{className:"friend-description-main accent ".concat(u.color),children:n})]})};n(312);var A=function(e){var t=e.username,n=e.color,c=Object(a.useState)([]),r=Object(l.a)(c,2),s=r[0],i=r[1],d=Object(a.useState)(!1),j=Object(l.a)(d,2),f=j[0],p=j[1],b=Object(a.useState)(!1),m=Object(l.a)(b,1)[0];Object(a.useEffect)((function(){function e(){return(e=Object(o.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getAllFriends(t);case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[f,t]);var h=function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.addFriend(t);case 2:p((function(e){return!e}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=s?s.map((function(e,t){return e.blank?Object(w.jsx)(E,{name:"",description:"",add:!0,addFriendFunc:h},"999"):Object(w.jsx)(E,{name:e.name,description:e.description,id:e.id},t)})):null;return Object(w.jsxs)("div",{className:"friends-list",children:[O,Object(w.jsx)("button",{className:"add-friend-button accent ".concat(n),onClick:function(){m(!0),i((function(e){return[].concat(Object(q.a)(e),[{blank:!0}])}))},children:"+"})]})};n(313),n(314);var L=function(e){var t=e.s,n=(e.deleteFunc,e.editFunc),c=e.index,r=e.message,s=e.addResponseStatus,i=e.addScreenFunc,u=e.addFunc,o=Object(a.useState)(!0),j=Object(l.a)(o,2),f=j[0],p=j[1],b=Object(a.useState)({response:null===t||void 0===t?void 0:t.response}),m=Object(l.a)(b,2),h=m[0],O=m[1],v=Object(a.useContext)(d).currentUser;function x(){p((function(e){return!e}))}var g=function(e){var t=e.target,n=t.name,a=t.value;O((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(C.a)({},n,a))}))};return t?Object(w.jsxs)("div",{className:"response",children:[Object(w.jsx)("span",{className:"response-index",children:c+1}),Object(w.jsx)("input",{value:h.response,disabled:f,name:"response",onChange:g,className:"inputText ".concat(f?"":"editable")}),Object(w.jsxs)("div",{className:"response-options",children:[Object(w.jsx)("div",{onClick:f?x:function(){x(),n(t.id,h)},className:"response-edit",children:f?Object(w.jsx)("i",{className:"fas fa-pen edit-statement"}):"Save"}),Object(w.jsx)("div",{onClick:f?x:function(){n(h)},className:"response-delete",children:f?Object(w.jsx)("i",{className:"fa fa-trash-alt delete-statement"}):"Save"})]})]},t.id):u?Object(w.jsxs)("div",{className:"response",children:[Object(w.jsx)("span",{className:"response-index",children:c+1}),Object(w.jsx)("input",{value:h.response,name:"response",onChange:g,className:"inputText editable",autocomplete:"off"}),Object(w.jsx)("div",{className:"response-options",children:Object(w.jsx)("div",{onClick:function(){u(h)},className:"response-delete",children:"Save"})})]}):Object(w.jsxs)("div",{className:"response",children:[Object(w.jsx)("span",{className:"response-index",children:r}),Object(w.jsx)("div",{className:"response-options",children:Object(w.jsx)("button",{className:"add-response ".concat(null===v||void 0===v?void 0:v.color),onClick:i,disabled:s,children:"+"})})]})};var T=function(e){var t=e.id,n=e.showResponses,c=Object(a.useState)([]),r=Object(l.a)(c,2),s=r[0],i=r[1],d=Object(a.useState)(!1),j=Object(l.a)(d,2),f=j[0],p=j[1],b=Object(a.useState)(!1),m=Object(l.a)(b,2),h=m[0],O=m[1];function x(){p(!0),i((function(e){return[].concat(Object(q.a)(e),[{blank:!0}])}))}Object(a.useEffect)((function(){function e(){return(e=Object(o.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getStatementInfo(t);case 2:n=e.sent,i(n.responses),delete n.responses;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[h,t]);var g=function(){var e=Object(o.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.statement_id=parseInt(t),e.next=3,v.addStatementResponse(n);case 3:O((function(e){return!e}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function k(e,t){return N.apply(this,arguments)}function N(){return(N=Object(o.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.editResponse(t,n);case 2:O((function(e){return!e}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return S.apply(this,arguments)}function S(){return(S=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.deleteResponse(t);case 2:O((function(e){return!e}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.length?Object(w.jsx)("div",{className:"responses-container ".concat(n?"showResponses":""),children:s.map((function(e,t){return e.blank?Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(L,{addFunc:g,index:t},t)}):s.length===t+1?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(L,{s:e,deleteFunc:y,editFunc:k,index:t},e.id),Object(w.jsx)(L,{message:"",addScreenFunc:x,addResponseStatus:f})]}):Object(w.jsx)(L,{s:e,deleteFunc:y,editFunc:k,index:t},e.id)}))}):Object(w.jsx)("div",{className:"responses-container ".concat(n?"showResponses":""),children:Object(w.jsx)(L,{message:"No responses have been added",addScreenFunc:x,addResponseStatus:f})})},_=(n(315),n.p+"static/media/brain.fca87e63.jpg");var B=function(){var e,t=Object(a.useState)({statement:""}),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(x.h)().id,i=Object(a.useState)([{statement:"lets chat"}]),d=Object(l.a)(i,2),j=d[0],f=d[1],p=function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),f((function(e){return[].concat(Object(q.a)(e),[c])})),c.friend_id=s,e.next=5,v.sendStatement(c);case 5:return n=e.sent,f((function(e){return[].concat(Object(q.a)(e),[{statement:n}])})),r({statement:""}),e.abrupt("return",{success:!0});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{className:"chat-container",children:Object(w.jsxs)("div",{className:"chat-room-container",children:[Object(w.jsx)("ul",{className:"chat-spot",children:j.map((function(t,n){switch(e){case void 0:e="left";break;case"left":e="right";break;case"right":e="left";break;default:e="left"}return Object(w.jsxs)("li",{className:"chat-text",style:{textAlign:e},children:["left"===e?Object(w.jsx)("img",{alt:"avatar",className:"chat-avatar",src:_}):null,t.statement]},n)}))}),Object(w.jsxs)("form",{className:"chat-form",autoComplete:"off",children:[Object(w.jsx)("input",{type:"text",name:"statement",className:"chat-input",value:c.statement,onChange:function(e){var t=e.target,n=t.name,a=t.value;r((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(C.a)({},n,a))}))},autoComplete:"off"}),Object(w.jsx)("button",{className:"chat-button",onClick:p,children:"Send"})]})]})})};n(316);var D=function(e){var t=e.statement,n=e.id,c=e.editFunc,r=e.deleteFunc,s=e.addFunc,i=e.add,u=(e.index,Object(a.useState)(!0)),o=Object(l.a)(u,2),j=o[0],f=o[1],p=Object(a.useRef)(null),b=Object(a.useState)({statement:t}),m=Object(l.a)(b,2),h=m[0],O=m[1],v=Object(a.useState)(!1),x=Object(l.a)(v,2),g=x[0],k=x[1],N=Object(a.useContext)(d).currentUser;function y(){f((function(e){return!e}))}j||(console.log(p.current),p.current.focus(),console.log("focused"));var S=function(e){var t=e.target,n=t.name,a=t.value;O((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(C.a)({},n,a))}))};return i?Object(w.jsxs)("div",{className:"statements-responses-container",children:[Object(w.jsxs)("div",{className:"statement-container",children:[Object(w.jsx)("input",{value:h.statement,name:"statement",onChange:S,className:"statement"}),Object(w.jsx)("div",{className:"statement-options",children:Object(w.jsx)("div",{className:"delete-statement",onClick:function(){return s(h)},children:"Save"})})]}),Object(w.jsx)(T,{id:n,showResponses:g})]}):Object(w.jsxs)("div",{className:"statements-responses-container",children:[Object(w.jsxs)("div",{className:"statement-container",children:[Object(w.jsx)("i",{className:"fa ".concat(g?"fa-chevron-up":"fa-chevron-down"," index ").concat(null===N||void 0===N?void 0:N.color),onClick:function(){return k((function(e){return!e}))}}),Object(w.jsx)("input",{type:"text",ref:p,value:h.statement,disabled:j,name:"statement",onChange:S,className:"statement ".concat(j?"":"editable"),autoComplete:"off",autoFocus:!0}),Object(w.jsxs)("div",{className:"statement-options",children:[Object(w.jsx)("div",{className:"edit-statement",onClick:j?function(e){y()}:function(){y(),c(n,h)},children:j?Object(w.jsx)("i",{className:"fas fa-pen edit-statement"}):"Save"}),Object(w.jsx)("div",{className:"delete-statement",onClick:function(){return r(n)},children:j?Object(w.jsx)("i",{className:"fa fa-trash-alt delete-statement"}):""})]})]}),Object(w.jsx)(T,{id:n,showResponses:g})]})};n(317);var J=function(e){var t=e.color,n=Object(x.h)().id,c=Object(a.useState)([]),r=Object(l.a)(c,2),s=r[0],i=r[1],d=Object(a.useState)(),j=Object(l.a)(d,2),f=j[0],p=j[1],b=Object(a.useState)(!0),m=Object(l.a)(b,2),h=m[0],O=m[1],g=Object(a.useState)({name:"",description:""}),k=Object(l.a)(g,2),N=k[0],y=k[1],S=Object(a.useState)(!1),R=Object(l.a)(S,2),I=R[0],E=R[1],A=Object(a.useState)(!1),L=Object(l.a)(A,2),T=L[0],_=L[1],B=Object(x.g)(),J=function(e){var t=e.target,n=t.name,a=t.value;y((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(C.a)({},n,a))}))};Object(a.useEffect)((function(){function e(){return(e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getFriendInfo(n);case 2:t=e.sent,y((function(){return{name:t.name,description:t.description}})),p(t),i(t.statements);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[T,n]);var P=function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.friend_id=parseInt(n),e.next=3,v.addFriendStatement(t);case 3:_((function(e){return!e}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function z(e,t){return V.apply(this,arguments)}function V(){return(V=Object(o.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.editStatement(t,n);case 2:_((function(e){return!e}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return G.apply(this,arguments)}function G(){return(G=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.deleteStatement(t);case 2:_((function(e){return!e}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.editFriend(f.id,N);case 2:_((function(e){return!e}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.deleteFriend(n);case 2:B.push("/");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(w.jsxs)("div",{className:"friend-container",children:[Object(w.jsxs)("div",{className:"friend-info",children:[Object(w.jsxs)("form",{className:"friend-form",children:[Object(w.jsx)("input",{type:"text",value:null===N||void 0===N?void 0:N.name,disabled:h,name:"name",onChange:J,className:"inputed friend-name"}),Object(w.jsx)("input",{type:"text",value:null===N||void 0===N?void 0:N.description,disabled:h,name:"description",onChange:J,className:"inputed main-friend-description ".concat(t)})]}),Object(w.jsxs)("div",{className:"friend-options",children:[Object(w.jsxs)(U.b,{to:"/chat/".concat(null===f||void 0===f?void 0:f.id),className:"text-chat icon",children:[Object(w.jsx)("i",{className:"fas fa-comment-dots text-chat"}),Object(w.jsx)("span",{className:"icon-description",children:"Text Chat"})]}),Object(w.jsxs)(U.b,{to:"/facechat/".concat(null===f||void 0===f?void 0:f.id),className:"face-chat icon",children:[Object(w.jsx)("i",{className:"fas fa-microphone face-chat"}),Object(w.jsx)("span",{className:"icon-description",children:"Face Chat"})]}),Object(w.jsxs)("div",{onClick:h?function(){O((function(e){return!e}))}:function(){return H.apply(this,arguments)},className:"edit-friend icon",children:[h?Object(w.jsx)("i",{className:"fas fa-pen edit-friend"}):"Save",Object(w.jsx)("span",{className:"icon-description",children:"Edit Info"})]}),Object(w.jsx)("i",{className:"fa fa-trash-alt delete-friend icon",onClick:function(){return K.apply(this,arguments)},children:Object(w.jsx)("span",{className:"icon-description",children:"Delete Friend"})})]})]}),Object(w.jsx)("div",{className:"statements-container",id:"spot",children:s.map((function(e,t){return e.blank?Object(w.jsx)(D,{addFunc:P,add:!0,statement:"",index:t},t):Object(w.jsx)(D,{statement:e.statement,id:e.id,editFunc:z,deleteFunc:Z,fId:n,add:!1,index:t},e.id)}))}),Object(w.jsx)("button",{className:"add-statement ".concat(t),onClick:function(){E(!0),i((function(e){return[].concat(Object(q.a)(e),[{blank:!0}])}))},disabled:I,children:"+"})]})};n(318);var P=function(){var e=Object(a.useState)("base"),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)("shut up please bitch"),s=Object(l.a)(r,2),i=s[0],d=s[1],j=Object(a.useState)("blank"),f=Object(l.a)(j,2),p=f[0],b=f[1],m=Object(a.useState)("talk"),h=Object(l.a)(m,2),O=h[0],g=h[1],k=Object(x.h)().id,N=window.speechSynthesis,y=new SpeechSynthesisUtterance(i),S=N.getVoices();y.voice=S[15];var C=new(window.SpeechRecognition||window.webkitSpeechRecognition);return console.log(C),C.onresult=function(e){b("blank"),g("talk");var t=e.results[0][0].transcript;d(t),function(){var e=Object(o.a)(u.a.mark((function e(){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={statement:t,friend_id:k},e.next=3,v.sendStatement(n);case 3:a=e.sent,d(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()},Object(w.jsxs)("div",{className:"head-container",children:[Object(w.jsxs)("div",{className:"head",children:[Object(w.jsxs)("div",{className:"eyes",children:[Object(w.jsx)("div",{className:"eyeball"}),Object(w.jsx)("div",{className:"eyeball"})]}),Object(w.jsx)("div",{className:"mouth ".concat(n)})]}),Object(w.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(w.jsx)("div",{onClick:function(){b("recording"),g("no"),C.start()},className:"startRecording ".concat(p)}),Object(w.jsx)("div",{onClick:function(){var e=1,t=i.split("");N.speak(y),function n(){setTimeout((function(){c(t[e]),++e<10&&n()}),100)}()},className:"".concat(O),children:">"})]})]})};n(319);var z=function(e){var t=e.username,n=Object(a.useContext)(d),c=n.setReload,r=n.currentUser,s=Object(a.useState)(),i=Object(l.a)(s,2),j=i[0],f=i[1],p=function(e){var t=e.target,n=t.name,a=t.value;f((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(C.a)({},n,a))}))};function b(e){f((function(t){return Object(F.a)(Object(F.a)({},t),{},{color:e})}))}function m(){return(m=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.updateUserInfo(j);case 2:c((function(e){return!e}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(o.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getUserInfo(t);case 2:delete(n=e.sent).isAdmin,f(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(w.jsxs)("div",{className:"settings-container",children:[Object(w.jsxs)("div",{className:"user-info-container",children:["Username:",Object(w.jsx)("input",{value:null===j||void 0===j?void 0:j.username,name:"username",onChange:p,className:"user-info"}),"Lastname:",Object(w.jsx)("input",{value:null===j||void 0===j?void 0:j.lastName,name:"lastName",onChange:p,className:"user-info"}),"Firstname:",Object(w.jsx)("input",{value:null===j||void 0===j?void 0:j.firstName,name:"firstName",onChange:p,className:"user-info"}),"Email:",Object(w.jsx)("input",{value:null===j||void 0===j?void 0:j.email,name:"email",onChange:p,className:"user-info"})]}),Object(w.jsxs)("div",{className:"colors",children:[Object(w.jsx)("div",{className:"color orange ".concat("orange"===(null===j||void 0===j?void 0:j.color)?"chosen":""),onClick:function(){return b("orange")}}),Object(w.jsx)("div",{className:"color blue ".concat("blue"===(null===j||void 0===j?void 0:j.color)?"chosen":""),onClick:function(){return b("blue")}}),Object(w.jsx)("div",{className:"color green ".concat("green"===(null===j||void 0===j?void 0:j.color)?"chosen":""),onClick:function(){return b("green")}})]}),Object(w.jsx)("button",{className:"submit-user-info ".concat(r.color),onClick:function(){return function(){return m.apply(this,arguments)}()},children:"Edit User Info"})]})};var V=function(e){var t=e.loginFunc,n=e.signupFunc,c=Object(a.useContext)(d).currentUser;return Object(w.jsxs)(x.d,{children:[Object(w.jsx)(x.b,{path:"/",exact:!0,children:c?Object(w.jsx)(x.a,{to:"/friends"}):Object(w.jsx)(a.Suspense,{fallback:null,children:Object(w.jsx)(S,{})})}),Object(w.jsx)(x.b,{path:"/friend/:id",exact:!0,children:Object(w.jsx)(J,{color:null===c||void 0===c?void 0:c.color})}),Object(w.jsx)(x.b,{path:"/responses/:id",exact:!0,children:Object(w.jsx)(T,{})}),Object(w.jsx)(x.b,{path:"/chat/:id",exact:!0,children:Object(w.jsx)(B,{})}),Object(w.jsx)(x.b,{path:"/facechat/:id",exact:!0,children:Object(w.jsx)(P,{})}),Object(w.jsx)(x.b,{path:"/settings",exact:!0,children:c?Object(w.jsx)(z,{username:c.username}):Object(w.jsx)(x.a,{to:"/"})}),Object(w.jsx)(x.b,{path:"/friends",exact:!0,children:c?Object(w.jsx)(A,{username:c.username,color:c.color}):Object(w.jsx)(x.a,{to:"/"})}),Object(w.jsx)(x.b,{path:"/login",exact:!0,children:c?Object(w.jsx)(x.a,{to:"/"}):Object(w.jsx)(R,{loginFunc:function(e){return t(e)}})}),Object(w.jsx)(x.b,{path:"/sign-up",exact:!0,children:c?Object(w.jsx)(x.a,{to:"/friends"}):Object(w.jsx)(I,{signupFunc:function(e){return n(e)}})}),Object(w.jsx)(x.b,{path:"/",children:c?Object(w.jsx)(x.a,{to:"/"}):Object(w.jsx)(I,{signupFunc:function(e){return n(e)}})})]})};n(320);var Z=function(e){var t=e.logoutFunc,n=e.loginFunc,c=Object(a.useContext)(d).currentUser,r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=s[0],u=s[1],o=function(){return u(!i)},j=function(){return u(!1)},f=function(){u(!1),n({username:"guest",password:"guest55"})};return c?Object(w.jsxs)("nav",{className:"nav-container",children:[Object(w.jsxs)(U.c,{to:"/",exact:!0,className:"nav-logo",onClick:j,children:["Spanish Speaking"," ",Object(w.jsx)("div",{style:{display:"inline"},className:"accent ".concat(c.color),children:"Robot"})]}),Object(w.jsx)("div",{className:"nav-hamburger",onClick:o,children:Object(w.jsx)("i",{className:i?"fas fa-times":"fas fa-bars"})}),Object(w.jsxs)("div",{className:"nav-links",children:[Object(w.jsx)(U.c,{to:"/friends",className:"nav-link ".concat(c.color),onClick:j,children:"Friends"}),Object(w.jsx)(U.c,{to:"/sign-up",className:"nav-link ".concat(c.color),onClick:t,children:"Logout"}),Object(w.jsx)(U.c,{to:"/settings",className:"nav-link ".concat(c.color),children:Object(w.jsx)("i",{className:"fas fa-cog",style:{color:"white"}})})]})]}):Object(w.jsxs)("nav",{className:"nav-container",children:[Object(w.jsxs)(U.b,{to:"/",className:"nav-logo",onClick:j,children:["Spanish Speaking"," ",Object(w.jsx)("div",{style:{color:"#1fa58a",display:"inline"},children:"Robot"})]}),Object(w.jsx)("div",{className:"nav-hamburger",children:Object(w.jsx)("i",{className:i?"fas fa-times":"fas fa-bars",onClick:o})}),Object(w.jsxs)("div",{className:i?"nav-links active":"nav-links",children:[Object(w.jsx)("div",{className:"nav-link",onClick:f,children:"Try as guest"}),Object(w.jsx)(U.b,{to:"/login",className:"nav-link",onClick:j,children:"Login"}),Object(w.jsx)(U.b,{to:"/sign-up",className:"nav-link",onClick:j,children:"Sign Up"})]})]})};var G=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),s=Object(l.a)(r,2),i=s[0],j=s[1],p=Object(a.useState)(!1),b=Object(l.a)(p,2),m=b[0],h=b[1];if(!n&&localStorage.getItem("token")){c(localStorage.getItem("token")),v.token=localStorage.getItem("token");var O=f.a.decode(v.token).username;v.username=O}var x=function(){var e=Object(o.a)(u.a.mark((function e(t){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.login(t);case 3:return n=e.sent,v.token=n.token,a=f.a.decode(v.token),r=a.username,v.username=r,c(n.token),localStorage.setItem("token",n.token),e.abrupt("return",{success:!0});case 12:return e.prev=12,e.t0=e.catch(0),console.error("login failed"),e.abrupt("return",{success:!1,errors:e.t0});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.signup(t);case 3:return n=e.sent,c(n.token),localStorage.setItem("token",n.token),e.abrupt("return",{success:!0});case 9:return e.prev=9,e.t0=e.catch(0),console.error("signup failed"),e.abrupt("return",{success:!1,errors:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(null),j(null),localStorage.removeItem("token");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){function e(){return(e=Object(o.a)(u.a.mark((function e(){var t,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.a.decode(n),a=t.username,e.prev=1,e.next=4,v.getUserInfo(a);case 4:c=e.sent,j(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}n&&function(){e.apply(this,arguments)}()}),[n,m]),Object(w.jsxs)(d.Provider,{value:{currentUser:i,setCurrentUser:j,setReload:h},children:[Object(w.jsx)(Z,{logoutFunc:function(e){return k(e)},loginFunc:function(e){return x(e)}}),Object(w.jsx)(V,{loginFunc:function(e){return x(e)},signupFunc:function(e){return g(e)}})]})};s.a.render(Object(w.jsx)(U.a,{children:Object(w.jsx)(G,{})}),document.getElementById("root"))}},[[321,1,2]]]);
//# sourceMappingURL=main.15d7b949.chunk.js.map